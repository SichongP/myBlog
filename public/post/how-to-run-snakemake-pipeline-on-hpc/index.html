<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.0.0">
  <meta name="generator" content="Hugo 0.55.6" />

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Sichong Peng">

  
  
  
    
  
  <meta name="description" content="Why use Snakemake on HPC Snakemake is a handy workflow manager written in Python. It handles workflow based on predefined job dependencies. One of the great features of Snakemake is that it can manage a workflow on both a standalone computer, or a clustered HPC system. HPC, or &ldquo;cluster&rdquo; as it&rsquo;s often referred to, requires additional considerations.
On HPC, all computing jobs should be submitted to &ldquo;compute nodes&rdquo; through a workload manager (for example, Slurm).">

  
  <link rel="alternate" hreflang="en-us" href="/post/how-to-run-snakemake-pipeline-on-hpc/">

  


  

  

  

  

  

  

  
  
  
  <meta name="theme-color" content="#2962ff">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    

    

  

  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700|Roboto:400,400italic,700|Roboto+Mono">
  

  <link rel="stylesheet" href="/styles.css">
  

  
  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-137015268-1', 'auto');
      
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  
  

  
  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="Academic">
  <link rel="feed" href="/index.xml" type="application/rss+xml" title="Academic">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/post/how-to-run-snakemake-pipeline-on-hpc/">

  
  
  
  
    
    
  
  <meta property="twitter:card" content="summary">
  
  <meta property="twitter:site" content="@Sichong93">
  <meta property="twitter:creator" content="@Sichong93">
  
  <meta property="og:site_name" content="Academic">
  <meta property="og:url" content="/post/how-to-run-snakemake-pipeline-on-hpc/">
  <meta property="og:title" content="How to run snakemake pipeline on HPC | Academic">
  <meta property="og:description" content="Why use Snakemake on HPC Snakemake is a handy workflow manager written in Python. It handles workflow based on predefined job dependencies. One of the great features of Snakemake is that it can manage a workflow on both a standalone computer, or a clustered HPC system. HPC, or &ldquo;cluster&rdquo; as it&rsquo;s often referred to, requires additional considerations.
On HPC, all computing jobs should be submitted to &ldquo;compute nodes&rdquo; through a workload manager (for example, Slurm)."><meta property="og:image" content="/img/icon-192.png">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2019-10-17T00:00:00&#43;00:00">
  
  <meta property="article:modified_time" content="2019-10-17T00:00:00&#43;00:00">
  

  

  

  <title>How to run snakemake pipeline on HPC | Academic</title>

</head>
<body id="top" data-spy="scroll" data-target="#TableOfContents" data-offset="71" >
  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" role="textbox" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">Academic</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav mr-auto">
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/post/">
            
            <span>Posts</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/project">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        

      
      </ul>
      <ul class="navbar-nav ml-auto">
      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  












  

  
  
  
<div class="article-container pt-3">
  <h1 itemprop="name">How to run snakemake pipeline on HPC</h1>

  

  
    



<meta content="2019-10-17 00:00:00 &#43;0000 UTC" itemprop="datePublished">
<meta content="2019-10-17 00:00:00 &#43;0000 UTC" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Oct 17, 2019</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    6 min read
  </span>
  

  
  

  
  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder"></i>
    
    <a href="/categories/workflow/">Workflow</a>
    
  </span>
  
  

  
    
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=How%20to%20run%20snakemake%20pipeline%20on%20HPC&amp;url=%2fpost%2fhow-to-run-snakemake-pipeline-on-hpc%2f"
         target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=%2fpost%2fhow-to-run-snakemake-pipeline-on-hpc%2f"
         target="_blank" rel="noopener">
        <i class="fab fa-facebook-f"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2fpost%2fhow-to-run-snakemake-pipeline-on-hpc%2f&amp;title=How%20to%20run%20snakemake%20pipeline%20on%20HPC"
         target="_blank" rel="noopener">
        <i class="fab fa-linkedin-in"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=%2fpost%2fhow-to-run-snakemake-pipeline-on-hpc%2f&amp;title=How%20to%20run%20snakemake%20pipeline%20on%20HPC"
         target="_blank" rel="noopener">
        <i class="fab fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=How%20to%20run%20snakemake%20pipeline%20on%20HPC&amp;body=%2fpost%2fhow-to-run-snakemake-pipeline-on-hpc%2f">
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>

    















  
</div>



  <div class="article-container">

    <div class="article-style" itemprop="articleBody">
      

<h2 id="why-use-snakemake-on-hpc">Why use Snakemake on HPC</h2>

<p>Snakemake is a handy workflow manager written in Python. It handles workflow based on predefined job dependencies. One of the great features of Snakemake is that it can manage a workflow on both a standalone computer, or a clustered HPC system. HPC, or &ldquo;cluster&rdquo; as it&rsquo;s often referred to, requires additional considerations.</p>

<p>On HPC, all computing jobs should be submitted to &ldquo;compute nodes&rdquo; through a workload manager (for example, Slurm). Running jobs on &ldquo;heaed nodes&rdquo;, or log-in nodes, is a big no-no: doing so risks exhausting computing resources of head node computer (which is very limited) and slowing down everyone else on that same head node.</p>

<p>File system is another thing that requires consideration when computing on HPC. Many HPC systems use NFS (Network File System) to have storage system accessible to all computing and head nodes. But some HPC systems also have dedicated local storage for each compute node. This is to help offload I/Os from major storage drives when users are running jobs with intensive I/O. It is important that users make use of these local storage spaces, as well as clean up their temporary files.</p>

<p>Below I will show how to achieve responsible computing on HPC with a few tweaks to your Snakemake workflow.</p>

<h2 id="how-to-run-snakemake-on-hpc">How to run snakemake on HPC</h2>

<p>Snakemake natively supports managing job submission on HPC. Take a look at their <a href="https://snakemake.readthedocs.io/en/stable/executable.html#cluster-execution" target="_blank">documentation here</a>.</p>

<p>Let&rsquo;s assume I have a Snakefile with following minimal rules:</p>

<pre><code class="language-python">rule all:
    input: &quot;RawData/Sample.fastq.gz&quot;

rule compressFASTQ:
    input: &quot;RawData/Sample.fastq&quot;
    output: &quot;RawData/Sample.fastq.gz&quot;
    shell:
     &quot;&quot;&quot;
     gzip {input}
     &quot;&quot;&quot;
</code></pre>

<p>To execute this workflow locally, we can simply invoke <code>snakemake -s path/to/Snakefile</code> (or <code>snakemake</code> if you&rsquo;re in the same directory as <code>Snakefile</code>).</p>

<p>Now if we want to run this on HPC on compute nodes, Snakemake allows us to do so by:</p>

<pre><code>snakemake -s Snakefile --cluster 'sbatch -t 60 --mem=2g -c 1'
</code></pre>

<p>In the above command, we use <code>--cluster</code> to hand Snakemake a command that it can use to submit a job script. Snakemake creates a job script for each job to be run and uses this command to submit that job to HPC. That simple!
Notice that here we use <code>sbatch</code> because it&rsquo;s the command you would use to submit a shell script on HPC managed by Slurm. Replace this with <code>qsub</code> commands if your HPC uses SGE.</p>

<h2 id="decorate-your-job-submission">Decorate your job submission</h2>

<h3 id="claim-different-resources-based-on-rules">Claim different resources based on rules</h3>

<p>Now suppose we have a slightly more complicated workflow:</p>

<pre><code class="language-python">samples = ['sample1', 'sample2', 'sample3', 'sample4']
rule all:
    input: expand(&quot;Alignment/{sample}.bam&quot;, sample = samples)

rule downloadFASTQ:
    output: &quot;RawData/{sample}_1.fastq.gz&quot;, &quot;RawData/{sample}_2.fastq.gz&quot;
    shell:
     &quot;&quot;&quot;
     ascp username@host:path/to/file/{wildcards.sample} RawData/
     &quot;&quot;&quot;

rule mapFASTQ:
    input: 
        f1 = &quot;RawData/{sample}_1.fastq.gz&quot;, 
        f2 =&quot;RawData/{sample}_2.fastq.gz&quot;, 
        ref = &quot;Ref/ref.fa&quot;
    output: temp(&quot;Alignment/{sample}.sam&quot;)
    shell:
     &quot;&quot;&quot;
     bwa mem -R &quot;@RG\\tID:{wildcards.sample}\\tSM:{wildcards.sample}&quot; {input.ref} {input.f1} {input.f2} &gt; {output}
     &quot;&quot;&quot;

rule convertSAM:
    input: &quot;Alignment/{sample}.sam&quot;
    output: &quot;Alignment/{sample}.bam&quot;
    shell:
     &quot;&quot;&quot;
     samtools view -bh {input} &gt; {output}
     &quot;&quot;&quot;
</code></pre>

<p>Now in this workflow, different jobs require different computing resources: <code>mapFASTQ</code> probably requires more RAM than <code>downloadFASTQ</code> does. And more threads would probably speed up <code>mapFASTQ</code> but change little to <code>downloadFASTQ</code>. Using <code>--cluster</code> like shown above will cause all jobs to request same amount of resources from HPC. How can we make Snakemake request different amount of resources based on each job?</p>

<p>This can be easily achieved by two ways:</p>

<ol>
<li>Define resources in rule parameters:</li>
</ol>

<p>The string following <code>--cluster</code> can access all variables within a rule like we could do in a shell command within a rule. For example, we can define <code>rule mapFASTQ</code> shown above as this instead:</p>

<pre><code class="language-python">rule mapFASTQ:
    input: 
        f1 = &quot;RawData/{sample}_1.fastq.gz&quot;, 
        f2 =&quot;RawData/{sample}_2.fastq.gz&quot;, 
        ref = &quot;Ref/ref.fa&quot;
    output: temp(&quot;Alignment/{sample}.sam&quot;)
    threads: 8
    params: time = 120, mem = &quot;8g&quot;
    shell:
     &quot;&quot;&quot;
     bwa mem -@ {threads} -R &quot;@RG\\tID:{wildcards.sample}\\tSM:{wildcards.sample}&quot; {input.ref} {input.f1} {input.f2} &gt; {output}
     &quot;&quot;&quot;
</code></pre>

<p>And then we can revoke the workflow by:</p>

<pre><code>snakemake -s Snakefile --cluster 'sbatch -t {params.time} --mem={params.mem} -c {threads}'
</code></pre>

<p>Notice that you must define these params for all rules or you will get an error when Snakemake tries to submit a job from a rule that doesn&rsquo;t have one or more of these params defined.</p>

<p>Another more convinient way involves using a separate cluster config file:</p>

<ol>
<li>Define resources in cluster.config:</li>
</ol>

<p>Instead of putting parameters for cluster submission into each individual rule, you can write a separate config file that contains these parameters:</p>

<p><em>cluster.yaml</em>:</p>

<pre><code>__default__:
  partition: &quot;high&quot;
  cpus: &quot;{threads}&quot;
  time: 60
  mem: &quot;2g&quot;

mapFASTQ:
  mem: &quot;8g&quot;
  time: 120
  
convertSAM:
  mem: &quot;4g&quot;
</code></pre>

<p>This file defines dafault parameters Snakemake will use for job submissions for all rules, <em>unless</em> they are overridden by specific parameters defined below.</p>

<p>Now in our rule definition, we only need to specify <code>threads</code>:</p>

<pre><code class="language-python">rule mapFASTQ:
    input: 
        f1 = &quot;RawData/{sample}_1.fastq.gz&quot;, 
        f2 =&quot;RawData/{sample}_2.fastq.gz&quot;, 
        ref = &quot;Ref/ref.fa&quot;
    output: temp(&quot;Alignment/{sample}.sam&quot;)
    threads: 8
    shell:
     &quot;&quot;&quot;
     bwa mem -@ {threads} -R &quot;@RG\\tID:{wildcards.sample}\\tSM:{wildcards.sample}&quot; {input.ref} {input.f1} {input.f2} &gt; {output}
     &quot;&quot;&quot;
</code></pre>

<p>The reason I keep <code>threads</code> in rule definition is because when running on a local machine Snakemake can still utilize this paramter for multi-threading</p>

<p>Then we can revoke by:</p>

<pre><code>snakemake -s Snakefile --cluster-config cluster.yaml --cluster 'sbatch -t {cluster.time} --mem={cluster.mem} -c {cluster.cpus}'
</code></pre>

<h3 id="redirect-cluster-output">Redirect cluster output</h3>

<p>When running a job on cluster, stdout and stderr are not immediately obvious. Slurm managed systems redirect them to <code>slurm-JOBID.txt</code> in working directory by default. This can be hard to tracked down when you&rsquo;re using Snakemake to manage more than a few dozen jobs. Luckily, with Snakemake this can be very easily changed. Let&rsquo;s modify out <code>cluster.yaml</code> file:</p>

<pre><code>__default__:
  partition: &quot;high&quot;
  cpus: &quot;{threads}&quot;
  time: 60
  mem: &quot;2g&quot;
  output: &quot;logs_slurm/{rule}.{wildcards}.out&quot;
</code></pre>

<p>And then we revoke Snakemake by:</p>

<pre><code>snakemake -s Snakefile --cluster-config cluster.yaml --cluster 'sbatch -t {cluster.time} --mem={cluster.mem} -c {cluster.cpus} -o {cluster.output} -e {cluster.output}'
</code></pre>

<p>This will redirect stdout and stderr of every job to their corresponding log files named as by rule and wildcards (eg. <code>downloadFASTQ.sample1.out</code>) under <code>logs_slurm</code> directory. If a particular job fails, it&rsquo;s super easy to find its log file!</p>

<h3 id="email-notification-when-a-job-fails">Email notification when a job fails</h3>

<p>Often times it&rsquo;s desirable to know when a job fails. You can have cluster notify you by email simply by modifying <code>cluster.yaml</code> to include cluster params for email notifications. For example:</p>

<pre><code>__default__:
  partition: &quot;high&quot;
  cpus: &quot;{threads}&quot;
  time: 60
  mem: &quot;2g&quot;
  output: &quot;logs_slurm/{rule}.{wildcards}.out&quot;
  email: &quot;user@host.com&quot;
  email_type: &quot;FAIL&quot;
</code></pre>

<p>And then revoke Snakemake with:</p>

<pre><code>snakemake -s Snakefile --cluster-config cluster.yaml --cluster 'sbatch -t {cluster.time} --mem={cluster.mem} -c {cluster.cpus} -o {cluster.output} -e {cluster.output} --mail-type {cluster.email_type} --mail-user {cluster.email}'
</code></pre>

<h3 id="put-snakemake-command-in-a-scheduler-script">Put Snakemake command in a &ldquo;scheduler&rdquo; script</h3>

<p>Evidently, as our cluster config parameters grow, the command to revoke Snakemake also grows and it becomes tedious to type every time. To avoid this, you can simply put this command in a sbtach script like so:</p>

<p><em>scheduler.sh</em></p>

<pre><code>#! /bin/bash -login
#SBATCH -J scheduler
#SBATCH -t 7-00:00:00
#SBATCH -N 1
#SBATCH -n 1
#SBATCH -c 1  
#SBATCH -p high
#SBATCH --mem=2gb
#SBATCH --mail-type=ALL
#SBATCH --mail-user=user@host.com

cd /path/to/snakemake/piepeline

mkdir -p logs_slurm
snakemake -s Snakefile --cluster-config cluster.yaml --cluster 'sbatch -t {cluster.time} --mem={cluster.mem} -c {cluster.cpus} -o {cluster.output} -e {cluster.output} --mail-type {cluster.email_type} --mail-user {cluster.email}'
</code></pre>

<p>And then submit this script to cluster using <code>sbatch scheduler.sh</code>. Then all you need to do is sit back and wait for it to finish (or error out).</p>

<h2 id="best-practice-on-cluster">Best practice on cluster</h2>

<p>(To be updated)</p>

    </div>

    


<div class="article-tags">
  
  <a class="badge badge-light" href="/tags/bioinformatics/">bioinformatics</a>
  
  <a class="badge badge-light" href="/tags/workflow/">Workflow</a>
  
</div>




    
      






  







<div class="media author-card" itemscope itemtype="http://schema.org/Person">
  
  
  <img class="portrait mr-3" src="/author/admin/avatar_huf42217ef482ec6d9ed01c9369be33d4c_889160_250x250_fill_q75_box_center.jpg" itemprop="image" alt="Avatar">
  

  <div class="media-body">
    <h5 class="card-title" itemprop="name"><a href="/authors/admin">Sichong Peng</a></h5>
    <h6 class="card-subtitle">PhD student</h6>
    <p class="card-text" itemprop="description">I study equine genetics/genomics at UC Davis Veterinary school. My primary interest is functional annotation of non-model organisms and its applications.</p>
    <ul class="network-icon" aria-hidden="true">
      
      
      
      
        
      
      
      
      
      
      <li>
        <a itemprop="sameAs" href="mailto:scpeng@ucdavis.edu" >
          <i class="fas fa-envelope"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://twitter.com/Sichong93" target="_blank" rel="noopener">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
      
      
      
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://scholar.google.co.uk/citations?user=amDGUp4AAAAJ" target="_blank" rel="noopener">
          <i class="ai ai-google-scholar"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://github.com/SichongP" target="_blank" rel="noopener">
          <i class="fab fa-github"></i>
        </a>
      </li>
      
    </ul>
  </div>
</div>



      
      
      <div class="article-widget">
        <div class="hr-light"></div>
        <h3>Related</h3>
        <ul>
          
          <li><a href="/post/what-is-chroseq-and-how-does-it-work/">What is ChROseq and how does it work</a></li>
          
          <li><a href="/post/split-a-fasta-record-by-ns/">Split a FASTA record by Ns</a></li>
          
        </ul>
      </div>
      
    

    

    


  </div>
</article>

<div class="container">
  <footer class="site-footer">
  
  <p class="powered-by">
    <a href="/privacy/">Privacy Policy</a>
  </p>
  

  <p class="powered-by">
    

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" id="back_to_top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

</div>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha512-+NqPlbbtM1QqiK8ZAo4Yrj2c4lNQoGv8P79DPtKzj++l5jnN39rHA/xsqn8zE9l0uSoxaCdrOgFs6yjyfbBxSg==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha256-VsEqElsCHSGmnmHXGQzvoWjWwoznFSZc6hs7ARLRacQ=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/shell.min.js"></script>
        
      

      
      
    

    
    

    
    
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "results found",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.db3d6f315d07c75ac150285a72ff5e1f.js"></script>

  </body>
</html>

